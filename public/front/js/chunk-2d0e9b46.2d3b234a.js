(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e9b46"],{"8f57":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{col:"8",md:"8"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,loading:e.loading,"loading-text":e.$t("common.loading"),"server-items-length":e.total,options:e.options},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v(e._s(e.$t("managers-page.table-name")))]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),r),[e._v(e._s(e.$t("managers-page.add-manger")))])]}}]),model:{value:e.add_dialog,callback:function(t){e.add_dialog=t},expression:"add_dialog"}},[a("ValidationObserver",{ref:"RegisterForm"},[a("v-form",{ref:"add_form",on:{submit:e.AddManager}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.$t("managers-page.add-manger")))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("ValidationProvider",{attrs:{name:e.$t("common.account"),rules:"required|min:6|max:12"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-text-field",{attrs:{label:e.$t("common.account"),type:"text",required:"","error-messages":r},model:{value:e.RegisterForm.username,callback:function(t){e.$set(e.RegisterForm,"username",t)},expression:"RegisterForm.username"}})]}}])})],1),a("v-col",{attrs:{cols:"12"}},[a("ValidationProvider",{attrs:{name:e.$t("common.password"),rules:"required|min:6|max:12"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-text-field",{attrs:{label:e.$t("common.password"),type:"password",required:"","error-messages":r},model:{value:e.RegisterForm.password,callback:function(t){e.$set(e.RegisterForm,"password",t)},expression:"RegisterForm.password"}})]}}])})],1),a("v-col",{attrs:{cols:"12"}},[a("ValidationProvider",{attrs:{name:e.$t("common.password_confirmation"),rules:"required|min:6|max:12"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-text-field",{attrs:{label:e.$t("common.password_confirmation"),type:"password",required:"","error-messages":r},model:{value:e.RegisterForm.password_confirmation,callback:function(t){e.$set(e.RegisterForm,"password_confirmation",t)},expression:"RegisterForm.password_confirmation"}})]}}])})],1),a("v-col",{attrs:{cols:"12"}},[a("ValidationProvider",{attrs:{name:e.$t("common.name"),rules:"required|min:3|max:20"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-text-field",{attrs:{label:e.$t("common.name"),type:"text",required:"","error-messages":r},model:{value:e.RegisterForm.name,callback:function(t){e.$set(e.RegisterForm,"name",t)},expression:"RegisterForm.name"}})]}}])})],1),a("v-col",{attrs:{cols:"12"}},[a("ValidationProvider",{attrs:{name:e.$t("common.email"),rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-text-field",{attrs:{label:e.$t("common.email"),type:"text",required:"","error-messages":r},model:{value:e.RegisterForm.email,callback:function(t){e.$set(e.RegisterForm,"email",t)},expression:"RegisterForm.email"}})]}}])})],1),a("v-col",{attrs:{cols:"12"}},[a("ValidationProvider",{attrs:{name:e.$t("common.group"),rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-select",{attrs:{label:e.$t("common.group"),required:"","error-messages":r,items:e.GroupItems},model:{value:e.RegisterForm.group,callback:function(t){e.$set(e.RegisterForm,"group",t)},expression:"RegisterForm.group"}})]}}])})],1),a("v-col",{attrs:{cols:"12"}},[a("ValidationProvider",{attrs:{name:e.$t("common.role"),rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-select",{attrs:{label:e.$t("common.role"),required:"","error-messages":r,items:e.RoleItems},model:{value:e.RegisterForm.role,callback:function(t){e.$set(e.RegisterForm,"role",t)},expression:"RegisterForm.role"}})]}}])})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.add_dialog=!1}}},[e._v(e._s(e.$t("common.cancel")))]),a("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(e._s(e.$t("common.insert")))])],1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px","retain-focus":!1},model:{value:e.edit_dialog,callback:function(t){e.edit_dialog=t},expression:"edit_dialog"}},[a("ValidationObserver",{ref:"EditForm"},[a("v-form",{ref:"edit_form",on:{submit:e.EditManager}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.$t("managers-page.edit-manger")))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("ValidationProvider",{attrs:{name:e.$t("common.account"),rules:"min:6|max:12"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-text-field",{attrs:{label:e.$t("common.account"),type:"text","error-messages":r,disabled:!0},model:{value:e.EditForm.username,callback:function(t){e.$set(e.EditForm,"username",t)},expression:"EditForm.username"}})]}}])})],1),a("v-col",{attrs:{cols:"12"}},[a("ValidationProvider",{attrs:{name:e.$t("common.password"),rules:"min:6|max:12"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-text-field",{attrs:{label:e.$t("common.password"),type:"password","error-messages":r},model:{value:e.EditForm.password,callback:function(t){e.$set(e.EditForm,"password",t)},expression:"EditForm.password"}})]}}])})],1),a("v-col",{attrs:{cols:"12"}},[a("ValidationProvider",{attrs:{name:e.$t("common.password_confirmation"),rules:"min:6|max:12"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-text-field",{attrs:{label:e.$t("common.password_confirmation"),type:"password","error-messages":r},model:{value:e.EditForm.password_confirmation,callback:function(t){e.$set(e.EditForm,"password_confirmation",t)},expression:"EditForm.password_confirmation"}})]}}])})],1),a("v-col",{attrs:{cols:"12"}},[a("ValidationProvider",{attrs:{name:e.$t("common.name"),rules:"required|min:3|max:20"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-text-field",{attrs:{label:e.$t("common.name"),type:"text",required:"","error-messages":r},model:{value:e.EditForm.name,callback:function(t){e.$set(e.EditForm,"name",t)},expression:"EditForm.name"}})]}}])})],1),a("v-col",{attrs:{cols:"12"}},[a("ValidationProvider",{attrs:{name:e.$t("common.email"),rules:"email"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-text-field",{attrs:{label:e.$t("common.email"),type:"text",required:"","error-messages":r,disabled:!0},model:{value:e.EditForm.email,callback:function(t){e.$set(e.EditForm,"email",t)},expression:"EditForm.email"}})]}}])})],1),a("v-col",{attrs:{cols:"12"}},[a("ValidationProvider",{attrs:{name:e.$t("common.group"),rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-select",{attrs:{label:e.$t("common.group"),required:"","error-messages":r,items:e.GroupItems},model:{value:e.EditForm.group,callback:function(t){e.$set(e.EditForm,"group",t)},expression:"EditForm.group"}})]}}])})],1),a("v-col",{attrs:{cols:"12"}},[a("ValidationProvider",{attrs:{name:e.$t("common.role"),rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-select",{attrs:{label:e.$t("common.role"),required:"","error-messages":r,items:e.RoleItems},model:{value:e.EditForm.role,callback:function(t){e.$set(e.EditForm,"role",t)},expression:"EditForm.role"}})]}}])})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.edit_dialog=!1}}},[e._v(e._s(e.$t("common.cancel")))]),a("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(e._s(e.$t("common.update")))])],1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px","retain-focus":!1},model:{value:e.disable_dialog,callback:function(t){e.disable_dialog=t},expression:"disable_dialog"}},[a("v-card",[0==e.DisableStatus?a("v-card-title",{staticClass:"headline"},[e._v(" "+e._s(e.$t("managers-page.disable-manger"))+" ")]):a("v-card-title",{staticClass:"headline"},[e._v(" "+e._s(e.$t("managers-page.enable-manger"))+" ")]),0==e.DisableStatus?a("v-card-text",[e._v(" "+e._s(e.$t("common.are-you-disable"))+" ")]):a("v-card-text",[e._v(" "+e._s(e.$t("common.are-you-enable"))+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.disable_dialog=!1}}},[e._v(" "+e._s(e.$t("common.cancel"))+" ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.DisableManager()}}},[e._v(" "+e._s(e.$t("common.confirm"))+" ")])],1)],1)],1)],1)]},proxy:!0},{key:"item.uuid",fn:function(t){var r=t.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[a("v-icon",e._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.GetManagerDetail(r.uuid)}}},Object.assign({},o)),[e._v(" mdi-pencil ")])]}}],null,!0)},[a("span",[e._v(e._s(e.$t("managers-page.edit-manger")))])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[1==r.status?a("v-icon",e._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.DisableItem(r)}}},Object.assign({},o)),[e._v(" mdi-block-helper ")]):a("v-icon",e._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.DisableItem(r)}}},Object.assign({},o)),[e._v(" mdi-check ")])]}}],null,!0)},[1==r.status?a("span",[e._v(" "+e._s(e.$t("managers-page.disable-manger"))+" ")]):a("span",[e._v(" "+e._s(e.$t("managers-page.enable-manger"))+" ")])])]}}])})],1)],1)],1)},o=[],s=(a("d81d"),a("b0c0"),a("a9e3"),{data:function(){return{add_dialog:!1,edit_dialog:!1,disable_dialog:!1,loading:!0,GroupItems:[],RoleItems:[],EditUUid:"",DisableUUid:"",DisableStatus:1,options:{page:1,itemsPerPage:10,sortBy:[],sortDesc:[],groupBy:[],groupDesc:[],multiSort:!1,mustSort:!1},RegisterForm:{username:"",password:"",name:"",email:"",group:"",password_confirmation:"",role:""},EditForm:{password:"",name:"",email:"",group:"",password_confirmation:"",role:"",username:""},headers:[{text:this.$i18n.t("common.no"),align:"start",sortable:!1,value:"no"},{text:this.$i18n.t("common.account"),value:"username"},{text:this.$i18n.t("common.name"),value:"name"},{text:this.$i18n.t("common.email"),value:"email"},{text:this.$i18n.t("common.created_at"),value:"created_at"},{text:this.$i18n.t("common.operate"),value:"uuid",sortable:!1}],desserts:[],total:0}},created:function(){this.GetManager(),this.GetManagerGroup(),this.GetManagerRole()},watch:{options:{handler:function(){this.GetManager()},deep:!0},add_dialog:function(){"undefined"!==typeof this.$refs.add_form&&(this.$refs.add_form.reset(),this.$refs.RegisterForm.reset())}},methods:{GetManager:function(){var e=this,t=this.$common.SortHandle(this.options);this.$axios.get("/api/v1/Managers?page="+this.options.page+"&limit="+this.options.itemsPerPage+t).then((function(t){"success"==t.data.status&&(e.desserts=e.$common.DataNoHandle(t.data.data.data,e.options.page,e.options.itemsPerPage),e.total=t.data.data.total),e.loading=!1}))},GetManagerGroup:function(){var e=this;this.$axios.get("/api/v1/ManagerGroup?limit=-1").then((function(t){"success"==t.data.status&&(e.GroupItems=t.data.data.data.map((function(e){return{text:e.name,value:e.id}}))),e.loading=!1}))},GetManagerRole:function(){var e=this;this.$axios.get("/api/v1/ManagerRole?limit=-1").then((function(t){"success"==t.data.status&&(e.RoleItems=t.data.data.data.map((function(e){return{text:e.name,value:e.id}}))),e.loading=!1}))},GetManagerDetail:function(e){var t=this;this.EditUUid=e,"undefined"!==typeof this.$refs.edit_form&&(this.$refs.edit_form.reset(),this.$refs.EditForm.reset()),this.$axios.get("/api/v1/Managers/"+this.EditUUid).then((function(e){if("success"==e.data.status){var a=t.EditForm;a.username=e.data.data.username,a.name=e.data.data.name,a.email=e.data.data.email,a.group=e.data.data.info.group,e.data.data.info.map((function(e){a[e.key]=Number(e.value)})),t.EditForm=a,t.edit_dialog=!0}}))},AddManager:function(){var e=this;this.$refs.RegisterForm.validate().then((function(t){t&&e.$axios.post("/api/v1/Register",e.RegisterForm).then((function(t){"success"==t.data.status&&(e.$common.AxiosHandle(t),e.add_dialog=!1,e.GetManager())}))}))},EditManager:function(){var e=this;this.$refs.EditForm.validate().then((function(t){t&&e.$axios.put("/api/v1/Managers/"+e.EditUUid,e.EditForm).then((function(t){"success"==t.data.status&&(e.$common.AxiosHandle(t),e.edit_dialog=!1,e.GetManager())}))}))},DisableItem:function(e){this.disable_dialog=!0,this.DisableUUid=e.uuid,this.DisableStatus=e.status?0:1},DisableManager:function(){var e=this;this.$axios.put("/api/v1/DisableManager/"+this.DisableUUid,{status:this.DisableStatus}).then((function(t){"success"==t.data.status&&(e.$common.AxiosHandle(t),e.disable_dialog=!1,e.GetManager())}))}}}),i=s,n=a("2877"),l=a("6544"),d=a.n(l),m=a("8336"),c=a("b0af"),u=a("99d9"),v=a("62ad"),f=a("a523"),p=a("8fea"),g=a("169a"),b=a("ce7e"),_=a("4bd4"),$=a("132d"),x=a("0fd9"),h=a("b974"),k=a("2fa4"),F=a("8654"),w=a("71d9"),y=a("2a7f"),E=a("3a2f"),R=Object(n["a"])(i,r,o,!1,null,null,null);t["default"]=R.exports;d()(R,{VBtn:m["a"],VCard:c["a"],VCardActions:u["a"],VCardText:u["c"],VCardTitle:u["d"],VCol:v["a"],VContainer:f["a"],VDataTable:p["a"],VDialog:g["a"],VDivider:b["a"],VForm:_["a"],VIcon:$["a"],VRow:x["a"],VSelect:h["a"],VSpacer:k["a"],VTextField:F["a"],VToolbar:w["a"],VToolbarTitle:y["a"],VTooltip:E["a"]})}}]);
//# sourceMappingURL=chunk-2d0e9b46.2d3b234a.js.map