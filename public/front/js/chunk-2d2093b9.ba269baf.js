(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2093b9"],{a7d1:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{col:"8",md:"8"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.desserts,loading:t.loading,"loading-text":t.$t("common.loading"),"server-items-length":t.total,options:t.options},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v(t._s(t.$t("manager-role-page.table-name")))]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",n,!1),o),[t._v(t._s(t.$t("manager-role-page.add-manger-role")))])]}}]),model:{value:t.add_dialog,callback:function(e){t.add_dialog=e},expression:"add_dialog"}},[a("ValidationObserver",{ref:"ManagerRoleForm"},[a("v-form",{ref:"add_form",on:{submit:t.AddManagerRole}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.$t("manager-role-page.add-manger-role")))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("ValidationProvider",{attrs:{name:t.$t("common.name"),rules:"required|min:3|max:20"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("v-text-field",{attrs:{label:t.$t("common.name"),type:"text",required:"","error-messages":o},model:{value:t.ManagerRoleForm.name,callback:function(e){t.$set(t.ManagerRoleForm,"name",e)},expression:"ManagerRoleForm.name"}})]}}])})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.add_dialog=!1}}},[t._v(t._s(t.$t("common.cancel")))]),a("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[t._v(t._s(t.$t("common.insert")))])],1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px","retain-focus":!1},model:{value:t.edit_dialog,callback:function(e){t.edit_dialog=e},expression:"edit_dialog"}},[a("ValidationObserver",{ref:"EditForm"},[a("v-form",{ref:"edit_form",on:{submit:t.EditManagerRole}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.$t("manager-role-page.edit-manger-role")))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("ValidationProvider",{attrs:{name:t.$t("common.name"),rules:"required|min:3|max:20"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("v-text-field",{attrs:{label:t.$t("common.name"),type:"text",required:"","error-messages":o},model:{value:t.EditForm.name,callback:function(e){t.$set(t.EditForm,"name",e)},expression:"EditForm.name"}})]}}])})],1)],1),a("v-row",[[a("v-treeview",{ref:"permission",attrs:{selectable:"",items:t.PermissionItems,active:t.PermissionActive,"open-all":t.open_all},scopedSlots:t._u([{key:"prepend",fn:function(e){var o=e.item;return[a("v-icon",[t._v(" "+t._s(o.icon)+" ")])]}},{key:"label",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.$t("menu."+a.name))+" ")]}}]),model:{value:t.PermissionActive,callback:function(e){t.PermissionActive=e},expression:"PermissionActive"}})]],2)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.edit_dialog=!1}}},[t._v(t._s(t.$t("common.cancel")))]),a("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[t._v(t._s(t.$t("common.update")))])],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.id",fn:function(e){var o=e.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.GetManagerRoleDetail(o.id)}}},Object.assign({},n)),[t._v(" mdi-pencil ")])]}}],null,!0)},[a("span",[t._v(t._s(t.$t("manager-role-page.edit-manger-role")))])])]}}])})],1)],1)],1)},n=[],i=(a("b0c0"),{data:function(){return{add_dialog:!1,edit_dialog:!1,loading:!0,open_all:!1,options:{page:1,itemsPerPage:10,sortBy:[],sortDesc:[],groupBy:[],groupDesc:[],multiSort:!1,mustSort:!1},ManagerRoleForm:{name:""},EditForm:{name:""},headers:[{text:this.$i18n.t("common.no"),align:"start",sortable:!1,value:"no"},{text:this.$i18n.t("common.name"),value:"name"},{text:this.$i18n.t("common.created_at"),value:"created_at"},{text:this.$i18n.t("common.operate"),value:"id",sortable:!1}],desserts:[],total:0,PermissionItems:[],PermissionActive:[]}},created:function(){this.GetManagerRole(),this.GetManagerPermission()},watch:{options:{handler:function(){this.GetManagerRole()},deep:!0}},methods:{GetManagerRole:function(){var t=this,e=this.$common.SortHandle(this.options);this.$axios.get("/api/v1/ManagerRole?page="+this.options.page+"&limit="+this.options.itemsPerPage+e).then((function(e){"success"==e.data.status&&(t.desserts=t.$common.DataNoHandle(e.data.data.data,t.options.page,t.options.itemsPerPage),t.total=e.data.data.total),t.loading=!1}))},AddManagerRole:function(){var t=this;this.$refs.ManagerRoleForm.validate().then((function(e){e&&t.$axios.post("/api/v1/ManagerRole",t.ManagerRoleForm).then((function(e){"success"==e.data.status&&(t.$common.AxiosHandle(e),t.add_dialog=!1,t.GetManagerRole())}))}))},GetManagerRoleDetail:function(t){var e=this;this.Editid=t,"undefined"!==typeof this.$refs.edit_form&&(this.$refs.edit_form.reset(),this.$refs.EditForm.reset()),this.$axios.get("/api/v1/ManagerRole/"+this.Editid).then((function(t){if("success"==t.data.status){var a=e.EditForm;a.name=t.data.data.info.name,e.EditForm=a,e.PermissionActive=t.data.data.permission,e.open_all=!0,e.edit_dialog=!0}}))},EditManagerRole:function(){var t=this;this.$refs.EditForm.validate().then((function(e){e&&(t.EditForm.permission=t.PermissionActive,t.$axios.put("/api/v1/ManagerRole/"+t.Editid,t.EditForm).then((function(e){"success"==e.data.status&&(t.$common.AxiosHandle(e),t.edit_dialog=!1,t.GetManagerGroup())})))}))},GetManagerPermission:function(){var t=this;this.$axios.get("/api/v1/Permission").then((function(e){"success"==e.data.status&&(t.PermissionItems=e.data.data)}))}}}),r=i,s=a("2877"),l=a("6544"),d=a.n(l),c=a("8336"),m=a("b0af"),u=a("99d9"),v=a("62ad"),g=a("a523"),p=a("8fea"),f=a("169a"),_=a("ce7e"),h=a("4bd4"),b=a("132d"),x=a("0fd9"),$=a("2fa4"),k=a("8654"),M=a("71d9"),V=a("2a7f"),R=a("3a2f"),P=a("eb2a"),F=Object(s["a"])(r,o,n,!1,null,null,null);e["default"]=F.exports;d()(F,{VBtn:c["a"],VCard:m["a"],VCardActions:u["a"],VCardText:u["c"],VCardTitle:u["d"],VCol:v["a"],VContainer:g["a"],VDataTable:p["a"],VDialog:f["a"],VDivider:_["a"],VForm:h["a"],VIcon:b["a"],VRow:x["a"],VSpacer:$["a"],VTextField:k["a"],VToolbar:M["a"],VToolbarTitle:V["a"],VTooltip:R["a"],VTreeview:P["a"]})}}]);
//# sourceMappingURL=chunk-2d2093b9.ba269baf.js.map